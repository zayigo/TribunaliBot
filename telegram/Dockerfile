FROM tribunalibot-base:latest

ARG TBOT_TG_MAIN_MAINTENANCE
ENV TBOT_TG_MAIN_MAINTENANCE $TBOT_TG_MAIN_MAINTENANCE

ARG TBOT_TG_SENTRY
ENV TBOT_TG_SENTRY $TBOT_TG_SENTRY

ARG TBOT_TG_MAIN_TOKEN
ENV TBOT_TG_MAIN_TOKEN $TBOT_TG_MAIN_TOKEN

ARG TBOT_TG_MAIN_NAME
ENV TBOT_TG_MAIN_NAME $TBOT_TG_MAIN_NAME

ARG TBOT_TG_MAIN_WEBHOOK
ENV TBOT_TG_MAIN_WEBHOOK $TBOT_TG_MAIN_WEBHOOK

ARG TBOT_TG_MAIN_DEEPLINK
ENV TBOT_TG_MAIN_DEEPLINK $TBOT_TG_MAIN_DEEPLINK

ARG TBOT_TG_URL_DONATE
ENV TBOT_TG_URL_DONATE $TBOT_TG_URL_DONATE

ARG TBOT_TG_URL_TEMPLATES
ENV TBOT_TG_URL_TEMPLATES $TBOT_TG_URL_TEMPLATES

ARG TBOT_TG_CHANNEL_NAME
ENV TBOT_TG_CHANNEL_NAME $TBOT_TG_CHANNEL_NAME

# . is current folder
COPY . ./telegram

EXPOSE 9181

ENTRYPOINT ["python", "-m", "telegram.src"]