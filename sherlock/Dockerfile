FROM tribunalibot-base:latest

ARG TBOT_SHERLOCK_SENTRY
ENV TBOT_SHERLOCK_SENTRY $TBOT_SHERLOCK_SENTRY

ARG TBOT_SHERLOCK_KEYWORDS
ENV TBOT_SHERLOCK_KEYWORDS $TBOT_SHERLOCK_KEYWORDS

ARG TBOT_SHERLOCK_POLL_TIME
ENV TBOT_SHERLOCK_POLL_TIME $TBOT_SHERLOCK_POLL_TIME

ARG TBOT_SHERLOK_BATCH_SIZE
ENV TBOT_SHERLOCK_BATCH_SIZE $TBOT_SHERLOCK_BATCH_SIZE

ARG TBOT_TG_CHANNEL_CHAT_ID
ENV TBOT_TG_CHANNEL_CHAT_ID $TBOT_TG_CHANNEL_CHAT_ID

COPY . ./sherlock

ENTRYPOINT ["python"]

CMD ["-m", "sherlock.src"]